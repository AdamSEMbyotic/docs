import Page from "@reason/pages/Docs";
import DocLink from "@reason/components/DocLink";
export default Page({ title: "What's in a Block" });

# Blok'da ne var ?

Blok, aðýn durumunu geniþleten bir dizi iþlem ve konsensüs bilgisidir. Mina'daki bir blok, aðýn mevcut durumunun tamamen geçerli olduðuna dair bir kanýt içerir.

Mina'da bir blok þunlardan oluþur:

- [Protokol durumu](#protocol-state)
- [Protokol durum kanýtý](#protocol-state-proof)
- [Aþamalý defter farký](#staged-ledger-diff)
- [Delta geçiþ zinciri kanýtý](#delta-transition-chain-proof)
- Mevcut protokol sürümü
- Önerilen protokol sürümü

Bir düðüm bir eþten bir blok aldýðýnda, önce doðrulanýr, mevcut duruma uygulanýr ve düðümün geçiþ sýnýrýna eklenir.<DocLink copy="KonsensÜs" url="/architecture/consensus" /> kurallarýna göre, blok zincirinin uzunluðunun artmasýyla sonuçlanýrsa, düðümün en iyi ipucu güncellenir ve geçiþ sýnýrýnýn kökü, geçiþ sýnýrýnda yalnýzca`k` bloklarý korumak için yukarý hareket ettirilir.

<Alert>

Mina'da bloklar "geçiþler" ile eþ anlamlýdýr. Bu geçiþ (blok) bir eþten alýndýðýnda, harici bir geçiþ olarak adlandýrýlýrken, yerel olarak oluþturulan ve uygulanan bir geçiþ dahili geçiþ olarak adlandýrýlýr.

</Alert>

### Protokol Durumu

Protokol durumu, önceki protokol durumu hash'inden ve þunlarý içeren bir gövdeden oluþur:

- [Oluþum durumu hash'i](#genesis-state-hash)
- [Blokzincir durumu](#blockchain-state)
- [Konsensüs durumu](#consensus_state)
- [Konsensüs sabitleri](#consensus-constants)

Her blok, bir önceki bloðun protokol durum hash'ini içerir, öyle ki bloklar deðiþmez bir zincir oluþturmak için birbirine baðlanabilir.

Protokol durum hash'i, önceki durum ve gövdenin hash'lerinden belirlenir ve her blok için benzersiz bir tanýmlayýcý görevi görür.

#### Oluþum Durumu Hash'i

Oluþum durumu hash'i, oluþum protokol durumu için protokol durum hash'idir.

#### Blokzinicir Durumu

Blokzincir durumu þunlardan oluþur:

- Aþamalý defter hash'i
- Snarked defter hash'i
- Bir sonraki kullanýlabilir token hash
- Oluþum defter hash'i
- Zaman damgasý

#### Konsensüs Durumu

Konsensüs durumu þunlardan oluþur:

- Blockchain uzunluðu
- Dönem sayýsý
- Min pencere yoðunluðu
- Alt pencere yoðunluðu
- Son VRF çýkýþý
- Toplam para birimi
- Mevcut global slot
- Genesis'den beri global slot
- Dönem verilerini stake etme
- Sonraki dönem verileri
- Ayný kontrol noktasý penceresinde bir öncüsü var
- Blok stake kazananý
- Blok yaratýcýsý
- Coinbase alýcýsý
- <DocLink copy="Supercharged coinbase" url="/architecture/block-producers#supercharged-coinbase" />

#### Konsensüs Sabitleri

Sabitler konsensüs parametrelerini tanýmlar:

- k
- delta
- slots_per_sub_window
- slots_per_window
- sub_windows_per_window
- slots_per_epoch
- dönem süresi
- checkpoint_window_slots_per_year
- checkpoint_window_size_in_slots
- block_window_duration_ms
- kabul edilebilir að gecikmesi
- slot_duration_ms
- epoch_duration
- delta_duration
- genesis_state_timestamp

### Protokol Durumu Kanýtý

Protokol durumu kanýtý, blok üreticisi tarafýndan oluþturulan yeni protokol durumunun geçerli olduðunu kanýtlayan bir blok zinciri kanýtýdýr. Yinelemeli SNARK'larýn kullanýlmasý nedeniyle, bu protokol durumu kanýtý, zincirin tüm geçmiþinin geçerli olduðunu kanýtlar.

### Aþamalý Defter Farký

Bir <DocLink copy="blok üreticisi" url="/architecture/block-producers" /> bir blok üretmek için bir slot kazandýðýnda, iþlem ve snark havuzlarýndan gereken iþlemleri ve herhangi bir snark iþi seçerler. Aþamalý defterin bir farkýný oluþturmayý içeren blok zincirinin önerilen bir sonraki durumunu oluþtururlar. Bir farklýlýk þunlardan oluþur:

- Bloða dahðil olan iþlemler
- <DocLink copy="Snark iþçileri" url="/architecture/snark-workers" /> tarafýndan önceki iþlemler için oluþturulan SNARK kanýtlarýnýn bir listesi eklendi
- Coinbase bekleniyor

Aþamalý bir defter, henüz SNARK'larýn bulunmadýðý iþlemlerin (ödemeler, para tabaný ve kanýt ücreti ödemeleri) uygulandýðý bekleyen bir hesap veritabaný olarak kabul edilebilir. Aþamalý bir defter, hesap durumundan (bir defter) ve <DocLink copy="tarama durumu" url="/architecture/scan-state" />olan SNARK kanýtlarý olmayan iþlemler için bir iþlem kuyruðundan oluþur.

### Delta Geçiþ Zinciri Kanýtý

Olumsuz að koþullarýna izin vermek için að çevresinde yeni üretilen bloklarý yayýnlarken veya gossip yaparken izin verilen bir að gecikmesi vardýr. Delta geçiþ zinciri kanýtý, bloðun tahsis edilen slot süresi içinde üretildiðini kanýtlar.

### Blok Örneði

```
{
  "external_transition": {
    "protocol_state": {
      "previous_state_hash": "3NLKJLNbD7rBAbGdjZz3tfNBPYxUJJaLmwCP9jMKR65KSz4RKV6b",
      "body": {
        "genesis_state_hash": "3NLxYrjb7zmHdoFgBrubCN8ijM8v7eT8kvLiPLc9DHt3M8XrDDEG",
        "blockchain_state": {
          "staged_ledger_hash": {
            "non_snark": {
              "ledger_hash": "jxV4SS44wHUVrGEucCsfxLisZyUC5QddsiokGH3kz5xm2hJWZ25",
              "aux_hash": "UmosfM82dH5xzqdckXgA1JoAvJ5tLxch2wsty4sXmiEPKnPTPq",
              "pending_coinbase_aux": "WLo8mDN6oBUTSyBkFCy7Fky7Na5fN4R6oGq4HMf3YoHCAj4cwY"
            },
            "pending_coinbase_hash": "2mze7iXKwA9JAqVDC1MVvgWfJDgvbgSexKtuShdkgqMfv1tjATQQ"
          },
          "snarked_ledger_hash": "jx9171AbMApHNG1guAcKct1E6nyUFweA7M4ZPCjBZpgNNrE21Nj",
          "genesis_ledger_hash": "jxX6VJ84HaafrKozFRA4qjnni4aPXqXC2H5vQLKSryNpKTXuz1R",
          "snarked_next_available_token": "2",
          "timestamp": "1611691710000"
        },
        "consensus_state": {
          "blockchain_length": "3852",
          "epoch_count": "1",
          "min_window_density": "1",
          "sub_window_densities": [
            "3",
            "1",
            "3",
            "1",
            "4",
            "2",
            "1",
            "2",
            "2",
            "4",
            "5"
          ],
          "last_vrf_output": "g_1vrXSXLhvn1e4Ap1Ey5e8yh3PFMJT0vZyhZLlTBAA=",
          "total_currency": "167255800000001000",
          "curr_global_slot": {
            "slot_number": "12978",
            "slots_per_epoch": "7140"
          },
          "global_slot_since_genesis": "12978",
          "staking_epoch_data": {
            "ledger": {
              "hash": "jxX6VJ84HaafrKozFRA4qjnni4aPXqXC2H5vQLKSryNpKTXuz1R",
              "total_currency": "165950000000001000"
            },
            "seed": "2vb1Mjvydod6sEwn7qpbejKCfRqugMgyG3MHXXRKcAkwQLRs9fj8",
            "start_checkpoint": "3NK2tkzqqK5spR2sZ7tujjqPksL45M3UUrcA4WhCkeiPtnugyE2x",
            "lock_checkpoint": "3NK5G8Xqn1Prh3XoTyZ2tqntJC6X2nVwruv5mEJCL3GaTk7jKUNo",
            "epoch_length": "1769"
          },
          "next_epoch_data": {
            "ledger": {
              "hash": "jx7XXjRfJj2mGXmiHQmpm6ZgTxz14udpugyFtw4DefJFpie7apN",
              "total_currency": "166537000000001000"
            },
            "seed": "2vavBR2GfJWvWkpC7yGJQFnts18nHaFjdVEr84r1Y9DQXvnJRhmd",
            "start_checkpoint": "3NLdAqxtBRYxYbCWMXxGu6j1hGDrpQwGkBDF9QvGxmtpziXQDADu",
            "lock_checkpoint": "3NL4Eis1pS1yrPdfCbiJcpCCYsHuXY3ZgEzHojPnFWfMK9gKmhZh",
            "epoch_length": "2084"
          },
          "has_ancestor_in_same_checkpoint_window": true,
          "block_stake_winner": "B62qpBrUYW8SHcKTFWLbHKD7d3FqYFvGRBaWRLQCgsr3V9pwsPSd7Ms",
          "block_creator": "B62qpBrUYW8SHcKTFWLbHKD7d3FqYFvGRBaWRLQCgsr3V9pwsPSd7Ms",
          "coinbase_receiver": "B62qpBrUYW8SHcKTFWLbHKD7d3FqYFvGRBaWRLQCgsr3V9pwsPSd7Ms",
          "supercharge_coinbase": true
        },
        "constants": {
          "k": "290",
          "slots_per_epoch": "7140",
          "slots_per_sub_window": "7",
          "delta": "0",
          "genesis_state_timestamp": "1609355670000"
        }
      }
    },
    "protocol_state_proof": "<opaque>",
    "staged_ledger_diff": "<opaque>",
    "delta_transition_chain_proof": "<opaque>",
    "current_protocol_version": "1.1.0",
    "proposed_protocol_version": "<None>"
  }
}
```
